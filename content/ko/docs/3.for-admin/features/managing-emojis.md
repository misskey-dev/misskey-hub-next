# 커스텀 이모지 관리

:::warning

현재 이 문서는 업데이트 작업 중입니다.과거 정보가 포함되어 있을 수 있으니 주의하시기 바랍니다.

:::

사용자 지정 이모티콘은 관리자 및 관리자와 사용자 지정 이모티콘 관리 역할 정책을 가진 사용자가 설정에서 사용자 지정 이모티콘 페이지의 하위 메뉴에 액세스하여 관리할 수 있습니다.
기본적으로 현재 로컬에 설치된 이모티콘 목록이 표시됩니다.
처음에는 이 목록이 비어 있지만, 다양한 방법으로 사용자 지정 이모티콘을 추가할 수 있습니다.

## 다른 인스턴스에서 이모티콘 복사하기

이모티콘은 다른 인스턴스에서 쉽게 복사할 수 있습니다.

먼저 사용자 지정 이모티콘 설정의 '원격' 탭으로 전환합니다.이모티콘은 이름이나 호스트로 검색할 수 있습니다.

원하는 이모티콘을 찾으면 해당 이모티콘을 클릭하여 메뉴를 열고 이모티콘을 가져올 수 있습니다.

이모티콘은 저작권의 보호를 받을 수 있으므로 이모티콘을 사용할 수 있는지 저작권을 확인하는 것을 잊지 말자.

## 개별 이모티콘 가져오기

커스텀 이모티콘으로 만들고 싶은 이미지 파일이 있다면 해당 이미지를 이모티콘으로 가져올 수 있습니다.

:::danger

드라이브에서 이모티콘을 가져오는 경우, 파일은 드라이브에 남아 있습니다.
Misskey는 이 파일의 복사본을 만들지 않기 때문에 파일을 삭제하면 이모티콘이 표시되지 않습니다.

:::

이모티콘이 서버에 추가되고, 평소처럼 편집 및 삭제가 가능해집니다.

## 전체 가져오기

이모티콘은 특수한 형식으로 포장된 ZIP 파일로 일괄적으로 가져올 수 있습니다.
이 기능은 사용자 지정 이모티콘 메뉴의 오른쪽 상단에 있는 메뉴 버튼에서 사용할 수 있습니다.

:::warning

일괄 가져오기는 기존 이모티콘을 덮어쓰거나 서버에 문제를 일으킬 수 있습니다.
가급적 직접 내보낸 이모티콘만 가져오도록 하고, 외부에서 일괄 가져오기를 할 경우 신뢰할 수 있는 출처인지 확인하시기 바랍니다.

:::

### 패키지화된 이모티콘 형식

최상위 레벨에는 `meta.json`이라는 파일이 있는데, 이 파일에는 패키지화된 이모티콘에 대한 정보가 포함되어 있습니다.

이 파일의 유형 정의는 다음과 같으며, `Meta`는 전체 파일의 구조입니다.

```typescript
class Meta {
	metaVersion: number;
	host: string;
	/**
	 * ECMAScript の `Date.prototype.toString` によって返される日時の表現。
	 */
	exportedAt: string;
	emojis: Emoji[];
}

class Emoji {
	downloaded: boolean;
	fileName: string;
	emoji: {
		id: string;
		updatedAt: string;
		name: string;
		host: null;
		category: string;
		originalUrl: string;
		publicUrl: string;
		uri: null;
		type: string;
		aliases: string[];
	};
}
```

`Meta` 필드는 현재 이모티콘을 가져올 때 사용되거나 체크되지 않지만 `emojis` 필드는 사용됩니다.

각 `Emoji`에 대해:.

- `downloaded`: 항상 true로 설정합니다.이 필드가 없거나 true가 아니면 해당 이모티콘은 가져오지 않습니다.
- `fileName`: 패키지 파일 내의 이미지 파일 이름.
- `emoji`: 데이터베이스에 저장된 이모티콘 관련 데이터.현재 사용 중인 항목은 다음과 같습니다.
  - `name`: 사용자가 입력하는 이모티콘의 이름, 예: ` blobfox`(사용자가 `:blobfox:`를 입력하면 해당 이모티콘이 표시됨).\
    같은 이름의 이모티콘이 이미 존재하는 경우\*\* 덮어씁니다\*\*.
  - `category`: 이모티콘 카테고리
  - `aliases`: 별칭으로 추가되는 문자열 목록.관리자 UI에서는 이를 '태그'라고 부릅니다.

## 이모티콘 편집 및 삭제

이모티콘의 속성은 로컬 이모티콘 목록에서 클릭하여 편집할 수 있습니다.
사용자 지정 이모티콘을 클릭하면 해당 이모티콘의 속성을 편집할 수 있는 대화 상자가 열립니다.
이 대화 상자에서 이모티콘을 삭제할 수도 있습니다.

:::danger

사용자 지정 이모티콘을 삭제하면 해당 이모티콘이 포함된 이전 노트에는 이모티콘 이름이 텍스트로 남아 있습니다.
해당 이모티콘은 더 이상 제대로 표시되지 않습니다.

:::

원격 이모티콘은 편집 및 삭제가 불가능하다는 점에 유의하세요.

각 이모티콘은 이름과 카테고리, 몇 가지 태그를 설정할 수 있습니다.
카테고리는 이모티콘 선택기의 구조화에 사용됩니다.
태그는 이모티콘 피커에서 검색할 때 이모티콘을 찾기 위한 별칭으로 사용됩니다.

편집이 끝나면 대화 상단의 오른쪽 상단에 있는 체크 표시를 클릭하여 변경 사항을 저장합니다.

### 일괄 편집

이모티콘은 검색 필드 아래에 있는 박스를 체크하여 일괄 편집할 수 있습니다.
이 기능을 활성화하면 이모티콘을 클릭해도 편집 대화 상자가 열리지 않고 이모티콘이 선택됩니다.

편집 옵션은 체크박스 아래에 버튼으로 표시됩니다.
정상 동작으로 돌아가려면 다시 한 번 확인란을 선택 해제합니다.
