# Obtener un token de acceso

Para empezar a utilizar la API, primero debes obtener un código de acceso vinculado a la cuenta que deseas utilizar.
Este documento describe los pasos para obtener un token de acceso y, a continuación, el uso básico de la API.

Por lo general, las solicitudes de API requieren un token de acceso. Un token de acceso es información de autenticación vinculada a un usuario, que identifica al usuario que utiliza la API y gestiona los permisos asociados a cada token de acceso.

:::tip

Un usuario y sus tokens de acceso asociados tienen una relación de uno a muchos, lo que significa que se pueden emitir múltiples tokens de acceso para un mismo usuario.

:::

Puedes obtener fácilmente tu propio token de acceso, y también puedes obtener tokens de acceso para los usuarios que vayan a utilizar su aplicación.

- En el primer caso, vaya a la sección **"Emisión manual de su propio código de acceso "**.
- Para esto último: ve a la sección **"Solicitud de tokens de acceso para usuarios de aplicaciones "**.

## Emisión manual de tu propio código de acceso (Token)

Puedes obtener tu token de acceso en Misskey Web en "Configuración > Integraciones > API".

:::danger

Asegúrate de mantener la confidencialidad de tu código de acceso y no lo compartas con otras personas.

:::

## Solicitud de tokens de acceso para usuarios de aplicaciones

Para obtener los tokens de acceso de los usuarios que utilizarán tu aplicación (en lo sucesivo denominados simplemente "usuarios"), utiliza uno de los siguientes métodos:

:MkIndex

## Usando la API

Una vez que hayas obtenido un token de acceso, puedes utilizar la API realizando solicitudes a varios endpoints.

:::tip

- Todas las peticiones HTTP API son POST, tanto las peticiones, como las respuestas están en formato JSON (excepto para drive/files/create).
- Especifíca `Content-Type: application/json` en la cabecera de la solicitud.
- Incluye el token de acceso en el JSON del cuerpo de la petición con el nombre de parámetro `i`.
- La URL base es `https://{dominio del servidor}/api`.

:::

### Uso de la cabecera de autorización

En lugar de utilizar `i`, puedes especificar el campo `Authorization` en la cabecera de la siguiente manera:

```js
fetch("https://misskey.example/api/notes/create", {
	method: 'POST',
	body: JSON.stringify({
			text: "Hello Misskey API World with My Application!"
	}),
	headers: {
		Authorization: `Bearer ${accessToken}`,
		'Content-Type': 'application/json',
	},
	credentials: 'omit',
});
```

### Utilización del parámetro `i`

Ejemplo de un cuerpo de solicitud con un token de acceso (para `meta`):

```json
{
    "i": "HogEFugA1341",
    "detail": false
}
```

<!--TODO:「APIリファレンス」をリンクに差し替え-->

Para más detalles sobre cada punto final, consulta la referencia de la API.

:::warning

La API de Misskey no sigue las prácticas REST.

:::

Además de la API HTTP, Misskey también ofrece una API de streaming.Para más información sobre la API de streaming, consulta [esta documentación](../streaming/).
