# ロール

ロールはユーザーに割り当てることのできる属性で、ロールごとにバッジを表示させたりポリシー設定でユーザーの権限を調整したりできます。

ユーザーのロール割り当て(アサイン)は手動で行うことも、条件を指定して自動で行うようにすることもできます。

ロールは一人のユーザーに対して複数アサインすることができます。

## ベースロール

全てのユーザーにデフォルトで適用されるポリシーの設定はベースロールの設定で行うことができます。

ベースロールの設定はコントロールパネルの「ロール→ベースロール」で行えます。

## アサインの種類

アサイン方法はマニュアルまたはコンディショナルから選択できます。

- **マニュアル** ... 手動でユーザーをアサインしたりアサイン解除します。(マニュアル ロール)
    - アサインする期間を設定することも可能です。
- **コンディショナル** ... 条件を設定し、それに合致するユーザーが自動で含まれるようになります。(コンディショナル ロール)

:::warning

コンディショナル ロールは、マニュアル ロールと比較して以下の制限があります。

- 手動でのアサイン/アサイン解除は行えません。
- 指定したコンディショナル ロールに含まれるユーザー一覧を取得することはできません。

:::

## 権限

ロールの基本的な権限は以下から選択できます。

- **一般ユーザー** ... 特別な権限はありません。
- **モデレーター** ... 基本的なモデレーションに関する操作を行えます。
- **管理者** ... サーバーの全ての設定を変更できます。

より詳細な権限はポリシーの設定で行います。

## ポリシー

ロールのポリシーを調整して、権限や機能の制限を変更できます。

ポリシーはベースロールに設定された値を継承するように設定することもできます。

### 優先度

複数のロールが割り当てられていて、同じポリシーがそれぞれ異なる値で定義されている場合に、他の定義よりどれくらい優先するかを設定できます。
優先度を高く設定するほど他の定義より優先されます。

優先度はポリシーごとの設定であり、ロールごとの設定ではありません。また、ベースロールでは設定できません。

**優先度が同じ場合、デフォルトで最も大きい、または最も権限が広い値が選択されます。**

:::tip

例えば、ユーザーにロールAとロールBがアサインされていて、ロールAのドライブ容量ポリシーが 500MB、ロールBのドライブ容量ポリシーが 300MB に定義されている場合、

- 優先度が同じ、もしくはロールAのドライブ容量ポリシーの優先度の方が高い場合 500MB の値が採用されます。
- ロールBのドライブ容量ポリシーの優先度の方が高い場合 300MB の値が採用されます。

また、ユーザーにロールCとロールDがアサインされていて、ロールCのパブリック投稿可否ポリシーが「いいえ」、ロールDのパブリック投稿可否ポリシーが「はい」に定義されている場合、

- 優先度が同じ、もしくはロールDのパブリック投稿可否ポリシーの優先度の方が高い場合「はい」の値が採用されます。
- ロールCのパブリック投稿可否ポリシーの優先度の方が高い場合「いいえ」の値が採用されます。

:::

### ベースロールの値を使用

この設定をオンにすると、ポリシーの値をベースロールから継承します。

## ロールの作成

コントロールパネルの「ロール」から新しいロールを作成することができます。

## ロール情報の確認、編集、および削除

コントロールパネルの「ロール」で行うことができます。

## ユーザーへのロールのアサイン、アサイン解除

ユーザーの「モデレーション→ロール」で行うことができます。

また、ユーザーのメニューから直接アサインすることもできます。

アサインする際にアサインされる期間を設定することが可能です。

:::tip

ロールのアサイン/アサイン解除が反映されるまで時間がかかることがあります。

:::

:::warning

コンディショナル ロールには手動でのアサインはできません。

:::

## ユーザーのポリシーの確認

ユーザーの「モデレーション→概要→ポリシー」で行うことができます。
