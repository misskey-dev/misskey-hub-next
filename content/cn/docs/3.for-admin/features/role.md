# 角色

角色是可以分配给用户的属性，允许您显示徽章并通过策略设置调整用户的权限。

用户的角色分配（指派）既可以手动进行，也可以通过设置条件来自动分配。

一个用户可以被分配多个角色。

## 基本角色

您可以通过配置基本角色来设置默认适用于所有用户的策略。

基本角色可以在控制面板的「角色 → 基本角色」中进行设置。

## 分配类型

分配方式可以选择手动分配或条件分配。

- **手动**... 手动为用户分配角色或解除分配。（手动角色）
  - 也可以设置分配期限。
- **符合条件** ... 设置条件，符合条件的用户将会被自动纳入。（条件角色）

:::warning

与手动角色相比，条件角色有以下限制：

- 无法手动分配 / 解除分配。
- 无法获取属于指定条件角色的用户列表。

:::

## 权限

您可以为角色选择以下基本权限：

- **普通用户** ... 没有特殊权限。
- **监察员**... 可以执行基本的管理操作。
- **管理员**... 可以更改服务器的所有设置。

更细致的权限请通过策略设置进行配置。

## 策略

你可以通过调整角色的策略，来更改权限或功能的限制。

策略也可以设置为继承基础角色中设置的值。

### 优先级

当为同一用户分配了多个角色，且同一策略在不同角色中被定义为不同的值时，你可以设置该策略相对于其他定义的优先程度。
优先级设置得越高，就越会优先于其他定义。

优先级是按“策略”设置的，而不是按“角色”设置的。此外，基础角色中无法设置优先级。

**如果优先级相同，则默认选择数值更大，或权限范围更广的值。**

:::tip

例如：用户被分配了角色 A 和角色 B，且角色 A 的网盘容量策略定义为 500MB，角色 B 的网盘容量策略定义为 300MB 时：

- 如果优先级相同，或角色 A 的网盘容量策略优先级更高，则采用 500MB。
- 如果角色 B 的网盘容量策略优先级更高，则采用 300MB。

再例如：当用户被分配了角色 C 和角色 D，且角色 C 的“是否允许公开发帖”策略定义为“否”，角色 D 的“是否允许公开发帖”策略定义为“是”时：

- 如果优先级相同，或角色 D 的“是否允许公开发帖”策略优先级更高，则采用“是”。
- 如果角色 C 的“是否允许公开发帖”策略优先级更高，则采用“否”。

:::

### 使用基本角色的值

启用此设置后，该策略的值将从基础角色继承。

## 创建角色

可以在控制面板的“角色”中创建新的角色。

## 查看、编辑和删除角色信息

可以在控制面板的“角色”中进行。

## 给用户分配角色、取消分配角色

可以在用户的「管理 → 角色」中进行。

也可以从用户菜单中直接进行分配。

分配时，可以设置分配的有效期限。

:::tip

角色的分配 / 取消分配可能需要一段时间才会生效。

:::

:::warning

条件角色无法手动分配。

:::

## 查看用户的策略

可在用户的「管理 → 概览 → 策略」中查看。
